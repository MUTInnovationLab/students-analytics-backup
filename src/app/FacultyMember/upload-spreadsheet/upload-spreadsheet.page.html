<ion-header>
  <ion-toolbar>
    <ion-title>Student Management</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-card style="margin-top:0%;margin-left:0%;margin-right: 0%;height:30%;background:linear-gradient(to left,rgb(158, 158, 158),black);">

  </ion-card>
  <ion-card   style="margin-top:-7%;margin-left:10%;margin-right:10%">
    <ion-card-header>
      <ion-card-title>Upload Student Marks</ion-card-title>
    </ion-card-header>
    <ion-card-content style="margin-left: 5%;margin-right:5%;margin-top:2%;height:90%">
   <input type="file" #fileInput hidden="true" (change)="onFileChange($event)" style="display: none;">
          <ion-button
            [class.selected]="selectedFile"
            [class.blueBackground]="!selectedFile"
            color="white"
            style="border:1px dotted black;margin-left: 1%;margin-right:1%;margin-top:2%;height:170px;height: 160px; width:920px;color:black"
            (click)="triggerFileInput()">
            <ion-icon
              *ngIf="!selectedFile"
              name="cloud-upload-outline"
              style="font-size:100px;"
              slot="start"
            ></ion-icon>
            <p *ngIf="!selectedFile">Select File</p>
            <ion-icon
              *ngIf="selectedFile"
              name="document-text-outline"
              style="font-size:100px;"
              slot="start"
            ></ion-icon>
            <p *ngIf="selectedFile">{{name}}</p>
            <!-- Rest of your button content -->
          </ion-button>
          

          <!-- Select File
        </ion-button> -->
      
    
      <div *ngIf="uploadPercent > 0">
        <p>Upload Progress: {{ uploadPercent }}%</p>
      </div>
    
      <div *ngIf="downloadURL">
        <p>Download URL: {{ downloadURL }}</p>
      </div>
      <ion-button
          [class.selected]="found"
          [class.blueBackground]="!found"
          color="white"
          id="open-loading"
          style="margin-left: 1.3%;margin-right:2%;border:1px dotted rgb(0, 200, 0);"
          expand="full"
          [disabled]="disableButton"
          (click)="uploadMarks()"
            >
              Upload
            </ion-button>

    </ion-card-content>
    
    <ion-loading class="custom-loading" trigger="open-loading" message="Loading..." [duration]="3000"></ion-loading>
  
  </ion-card>

  <ion-card style="margin-left:10%;margin-right:10%">
    <ion-card-header>
      <ion-card-title>All Registered Students</ion-card-title>
    </ion-card-header>
    <ion-card-content>

      <ion-grid>
  
        <ion-row *ngFor="let student of studentDetails; let i = index">
          <ion-col size="2"> {{ student }}</ion-col>
          <ion-col size="1" *ngFor="let mark of studentMarks[i]; let j = index">{{ mark }}</ion-col>
        </ion-row>

      </ion-grid>
    </ion-card-content>
  </ion-card>
</ion-content>
